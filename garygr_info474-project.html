<!DOCTYPE html>
<meta charset="utf-8">
<h1 align="center">Presidential Election Simulator</h1>
<table style="width:100%">
  <tr>
    <th align="left">Please select the election to simulate:</th>
    <th align="left">As desired, select a factor between 0.9 and 1.1 to apply to the the beta distributions of all states:</th>
  <tr>
  </tr>
    <td>
      <form>
        <div>
          <input type="radio" id="id_2000"
          name="year_choice" value="value_2000">
          <label for="id_2000">2000</label>

          <input type="radio" id="id_2004"
          name="year_choice" value="value_2004">
          <label for="id_2004">2004</label>

          <input type="radio" id="id_2008"
          name="year_choice" value="value_2008">
          <label for="id_2008">2008</label>

          <input type="radio" id="id_2012"
          name="year_choice" value="value_2012">
          <label for="id_2012">2012</label>

          <input type="radio" id="id_2016"
          name="year_choice" value="value_2016">
          <label for="id_2012">2016</label>
        </div>
      </form>
    </td>
    <td><input type="number" min="0.9" max="1.1" step="0.01" name="variance_factor" value="1.0" /></td>
  </tr>
</table>
<p><b>Modify the default mean of the beta distribution for any state:</b><p/>
<table style="width:100%">
  <tr>
    <th align="left">State</th>
    <th align="left">Distribution Mean</th> 
    <th align="left">State</th>
    <th align="left">Distribution Mean</th> 
    <th align="left">State</th>
    <th align="left">Distribution Mean</th> 
  </tr>
  <tr>
    <td>Alabama</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="alabama_mean" value="0.5" /></td>
    <td>Alaska</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="alaska_mean" value="0.5" /></td>
    <td>Arizona</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="arizona_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Arkansas</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="arkansas_mean" value="0.5" /></td>
    <td>California</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="california_mean" value="0.5" /></td>
    <td>Colorado</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="colorado_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Connecticut</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="connecticut_mean" value="0.5" /></td>
    <td>Delaware</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="delaware_mean" value="0.5" /></td>
    <td>D.C.</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="dc_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Florida</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="florida_mean" value="0.5" /></td>
    <td>Georgia</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="georgia_mean" value="0.5" /></td>
    <td>Hawaii</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="hawaii_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Idaho</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="idaho_mean" value="0.5" /></td>
    <td>Illinois</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="illinois_mean" value="0.5" /></td>
    <td>Indiana</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="indiana_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Iowa</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="iowa_mean" value="0.5" /></td>
    <td>Kansas</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="kansas_mean" value="0.5" /></td>
    <td>Kentucky</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="kentucky_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Louisiana</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="louisiana_mean" value="0.5" /></td>
    <td>Maine</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="maine_mean" value="0.5" /></td>
    <td>Maryland</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="maryland_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Massachusetts</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="massachusetts_mean" value="0.5" /></td>
    <td>Michigan</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="michigan_mean" value="0.5" /></td>
    <td>Minnesota</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="minnesota_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Mississippi</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="mississippi_mean" value="0.5" /></td>
    <td>Missouri</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="missouri_mean" value="0.5" /></td>
    <td>Montana</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="montana_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Nebraska</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="nebraska_mean" value="0.5" /></td>
    <td>Nevada</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="nevada_mean" value="0.5" /></td>
    <td>New Hampshire</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="new_hampshire_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>New Jersey</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="new_jersey_mean" value="0.5" /></td>
    <td>New Mexico</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="new_mexico_mean" value="0.5" /></td>
    <td>New York</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="new_york_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>North Carolina</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="north_carolina_mean" value="0.5" /></td>
    <td>North Dakota</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="north_dakota_mean" value="0.5" /></td>
    <td>Ohio</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="ohio_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Oklahoma</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="oklahoma_mean" value="0.5" /></td>
    <td>Oregon</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="oregon_mean" value="0.5" /></td>
    <td>Pennsylvania</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="pennsylvania_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Rhode Island</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="rhode_island_mean" value="0.5" /></td>
    <td>South Carolina</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="south_carolina_mean" value="0.5" /></td>
    <td>South Dakota</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="south_dakota_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Tennessee</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="tennessee_mean" value="0.5" /></td>
    <td>Texas</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="texas_mean" value="0.5" /></td>
    <td>Utah</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="utah_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>Vermont</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="vermont_mean" value="0.5" /></td>
    <td>Virginia</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="virginia_mean" value="0.5" /></td>
    <td>Washington</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="washington_mean" value="0.5" /></td>
  </tr>
  <tr>
    <td>West Virginia</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="west_virginia_mean" value="0.5" /></td>
    <td>Wisconsin</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="wisconsin_mean" value="0.5" /></td>
    <td>Wyoming</td>
    <td><input type="number" min="0.0" max="1.0" step="0.01" name="wyoming_mean" value="0.5" /></td>
  </tr>
</table>
<style>

.counties {
  fill: none;
}

.states {
  fill: none;
  stroke: #fff;
  stroke-linejoin: round;
}

</style>
<svg width="960" height="600"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/topojson.v2.min.js"></script>
<script>

var svg = d3.select("svg"),
    width = +svg.attr("width"),
    height = +svg.attr("height");

var election_2000 = d3.map();
election_2000.set("01", "red")  // Alabama
election_2000.set("02", "red")  // Alaska
election_2000.set("04", "red")  // Arizona
election_2000.set("05", "red")  // Arkansas
election_2000.set("06", "blue") // California
election_2000.set("08", "red")  // Colorado
election_2000.set("09", "blue") // Connecticut
election_2000.set("10", "blue") // Delaware
election_2000.set("11", "blue") // District of Columbia
election_2000.set("12", "red")  // Florida
election_2000.set("13", "red")  // Georgia
election_2000.set("15", "blue") // Hawaii
election_2000.set("16", "red")  // Idaho
election_2000.set("17", "blue") // Illinois
election_2000.set("18", "red")  // Indiana
election_2000.set("19", "blue") // Iowa
election_2000.set("20", "red")  // Kansas
election_2000.set("21", "red")  // Kentucky
election_2000.set("22", "red")  // Louisiana
election_2000.set("23", "blue") // Maine
election_2000.set("24", "blue") // Maryland
election_2000.set("25", "blue") // Massachusetts
election_2000.set("26", "blue") // Michigan
election_2000.set("27", "blue") // Minnesota
election_2000.set("28", "red")  // Mississippi
election_2000.set("29", "red")  // Missouri
election_2000.set("30", "red")  // Montana
election_2000.set("31", "red")  // Nebraska
election_2000.set("32", "red")  // Nevada
election_2000.set("33", "red")  // New Hampshire
election_2000.set("34", "blue") // New Jersey
election_2000.set("35", "blue") // New Mexico
election_2000.set("36", "blue") // New York
election_2000.set("37", "red")  // North Carolina
election_2000.set("38", "red")  // North Dakota
election_2000.set("39", "red")  // Ohio
election_2000.set("40", "red")  // Oklahoma
election_2000.set("41", "blue") // Oregon
election_2000.set("42", "blue") // Pennsylvania
election_2000.set("44", "blue") // Rhode Island
election_2000.set("45", "red")  // South Carolina
election_2000.set("46", "red")  // South Dakota
election_2000.set("47", "red")  // Tennessee
election_2000.set("48", "red")  // Texas
election_2000.set("49", "red")  // Utah
election_2000.set("50", "blue") // Vermont
election_2000.set("51", "red")  // Virginia
election_2000.set("53", "blue") // Washington
election_2000.set("54", "red")  // West Virginia
election_2000.set("55", "blue") // Wisconsin
election_2000.set("56", "red")  // Wyoming

var election_2004 = d3.map();
election_2004.set("01", "red")  // Alabama
election_2004.set("02", "red")  // Alaska
election_2004.set("04", "red")  // Arizona
election_2004.set("05", "red")  // Arkansas
election_2004.set("06", "blue") // California
election_2004.set("08", "red")  // Colorado
election_2004.set("09", "blue") // Connecticut
election_2004.set("10", "blue") // Delaware
election_2004.set("11", "blue") // District of Columbia
election_2004.set("12", "red")  // Florida
election_2004.set("13", "red")  // Georgia
election_2004.set("15", "blue") // Hawaii
election_2004.set("16", "red")  // Idaho
election_2004.set("17", "blue") // Illinois
election_2004.set("18", "red")  // Indiana
election_2004.set("19", "red")  // Iowa
election_2004.set("20", "red")  // Kansas
election_2004.set("21", "red")  // Kentucky
election_2004.set("22", "red")  // Louisiana
election_2004.set("23", "blue") // Maine
election_2004.set("24", "blue") // Maryland
election_2004.set("25", "blue") // Massachusetts
election_2004.set("26", "blue") // Michigan
election_2004.set("27", "blue") // Minnesota
election_2004.set("28", "red")  // Mississippi
election_2004.set("29", "red")  // Missouri
election_2004.set("30", "red")  // Montana
election_2004.set("31", "red")  // Nebraska
election_2004.set("32", "red")  // Nevada
election_2004.set("33", "blue") // New Hampshire
election_2004.set("34", "blue") // New Jersey
election_2004.set("35", "red")  // New Mexico
election_2004.set("36", "blue") // New York
election_2004.set("37", "red")  // North Carolina
election_2004.set("38", "red")  // North Dakota
election_2004.set("39", "red")  // Ohio
election_2004.set("40", "red")  // Oklahoma
election_2004.set("41", "blue") // Oregon
election_2004.set("42", "blue") // Pennsylvania
election_2004.set("44", "blue") // Rhode Island
election_2004.set("45", "red")  // South Carolina
election_2004.set("46", "red")  // South Dakota
election_2004.set("47", "red")  // Tennessee
election_2004.set("48", "red")  // Texas
election_2004.set("49", "red")  // Utah
election_2004.set("50", "blue") // Vermont
election_2004.set("51", "red")  // Virginia
election_2004.set("53", "blue") // Washington
election_2004.set("54", "red")  // West Virginia
election_2004.set("55", "blue") // Wisconsin
election_2004.set("56", "red")  // Wyoming

var election_2008 = d3.map();
election_2008.set("01", "red")  // Alabama
election_2008.set("02", "red")  // Alaska
election_2008.set("04", "red")  // Arizona
election_2008.set("05", "red")  // Arkansas
election_2008.set("06", "blue") // California
election_2008.set("08", "blue") // Colorado
election_2008.set("09", "blue") // Connecticut
election_2008.set("10", "blue") // Delaware
election_2008.set("11", "blue") // District of Columbia
election_2008.set("12", "blue") // Florida
election_2008.set("13", "red")  // Georgia
election_2008.set("15", "blue") // Hawaii
election_2008.set("16", "red")  // Idaho
election_2008.set("17", "blue") // Illinois
election_2008.set("18", "blue") // Indiana
election_2008.set("19", "blue") // Iowa
election_2008.set("20", "red")  // Kansas
election_2008.set("21", "red")  // Kentucky
election_2008.set("22", "red")  // Louisiana
election_2008.set("23", "blue") // Maine
election_2008.set("24", "blue") // Maryland
election_2008.set("25", "blue") // Massachusetts
election_2008.set("26", "blue") // Michigan
election_2008.set("27", "blue") // Minnesota
election_2008.set("28", "red")  // Mississippi
election_2008.set("29", "red")  // Missouri
election_2008.set("30", "red")  // Montana
election_2008.set("31", "red")  // Nebraska
election_2008.set("32", "blue") // Nevada
election_2008.set("33", "blue") // New Hampshire
election_2008.set("34", "blue") // New Jersey
election_2008.set("35", "blue") // New Mexico
election_2008.set("36", "blue") // New York
election_2008.set("37", "red")  // North Carolina
election_2008.set("38", "red")  // North Dakota
election_2008.set("39", "blue") // Ohio
election_2008.set("40", "red")  // Oklahoma
election_2008.set("41", "blue") // Oregon
election_2008.set("42", "blue") // Pennsylvania
election_2008.set("44", "blue") // Rhode Island
election_2008.set("45", "red")  // South Carolina
election_2008.set("46", "red")  // South Dakota
election_2008.set("47", "red")  // Tennessee
election_2008.set("48", "red")  // Texas
election_2008.set("49", "red")  // Utah
election_2008.set("50", "blue") // Vermont
election_2008.set("51", "blue") // Virginia
election_2008.set("53", "blue") // Washington
election_2008.set("54", "red")  // West Virginia
election_2008.set("55", "blue") // Wisconsin
election_2008.set("56", "red")  // Wyoming

var election_2012 = d3.map();
election_2012.set("01", "red")  // Alabama
election_2012.set("02", "red")  // Alaska
election_2012.set("04", "red")  // Arizona
election_2012.set("05", "red")  // Arkansas
election_2012.set("06", "blue") // California
election_2012.set("08", "blue") // Colorado
election_2012.set("09", "blue") // Connecticut
election_2012.set("10", "blue") // Delaware
election_2012.set("11", "blue") // District of Columbia
election_2012.set("12", "blue") // Florida
election_2012.set("13", "red")  // Georgia
election_2012.set("15", "blue") // Hawaii
election_2012.set("16", "red")  // Idaho
election_2012.set("17", "blue") // Illinois
election_2012.set("18", "red")  // Indiana
election_2012.set("19", "blue") // Iowa
election_2012.set("20", "red")  // Kansas
election_2012.set("21", "red")  // Kentucky
election_2012.set("22", "red")  // Louisiana
election_2012.set("23", "blue") // Maine
election_2012.set("24", "blue") // Maryland
election_2012.set("25", "blue") // Massachusetts
election_2012.set("26", "blue") // Michigan
election_2012.set("27", "blue") // Minnesota
election_2012.set("28", "red")  // Mississippi
election_2012.set("29", "red")  // Missouri
election_2012.set("30", "red")  // Montana
election_2012.set("31", "red")  // Nebraska
election_2012.set("32", "blue") // Nevada
election_2012.set("33", "blue") // New Hampshire
election_2012.set("34", "blue") // New Jersey
election_2012.set("35", "blue") // New Mexico
election_2012.set("36", "blue") // New York
election_2012.set("37", "red")  // North Carolina
election_2012.set("38", "red")  // North Dakota
election_2012.set("39", "blue") // Ohio
election_2012.set("40", "red")  // Oklahoma
election_2012.set("41", "blue") // Oregon
election_2012.set("42", "blue") // Pennsylvania
election_2012.set("44", "blue") // Rhode Island
election_2012.set("45", "red")  // South Carolina
election_2012.set("46", "red")  // South Dakota
election_2012.set("47", "red")  // Tennessee
election_2012.set("48", "red")  // Texas
election_2012.set("49", "red")  // Utah
election_2012.set("50", "blue") // Vermont
election_2012.set("51", "blue") // Virginia
election_2012.set("53", "blue") // Washington
election_2012.set("54", "red")  // West Virginia
election_2012.set("55", "blue") // Wisconsin
election_2012.set("56", "red")  // Wyoming

var election_2016 = d3.map();
election_2016.set("01", "red")  // Alabama
election_2016.set("02", "red")  // Alaska
election_2016.set("04", "red")  // Arizona
election_2016.set("05", "red")  // Arkansas
election_2016.set("06", "blue") // California
election_2016.set("08", "blue") // Colorado
election_2016.set("09", "blue") // Connecticut
election_2016.set("10", "blue") // Delaware
election_2016.set("11", "blue") // District of Columbia
election_2016.set("12", "red")  // Florida
election_2016.set("13", "red")  // Georgia
election_2016.set("15", "blue") // Hawaii
election_2016.set("16", "red")  // Idaho
election_2016.set("17", "blue") // Illinois
election_2016.set("18", "blue") // Indiana
election_2016.set("19", "red")  // Iowa
election_2016.set("20", "red")  // Kansas
election_2016.set("21", "red")  // Kentucky
election_2016.set("22", "red")  // Louisiana
election_2016.set("23", "red")  // Maine
election_2016.set("24", "blue") // Maryland
election_2016.set("25", "blue") // Massachusetts
election_2016.set("26", "red")  // Michigan
election_2016.set("27", "blue") // Minnesota
election_2016.set("28", "red")  // Mississippi
election_2016.set("29", "red")  // Missouri
election_2016.set("30", "red")  // Montana
election_2016.set("31", "red")  // Nebraska
election_2016.set("32", "blue") // Nevada
election_2016.set("33", "blue") // New Hampshire
election_2016.set("34", "blue") // New Jersey
election_2016.set("35", "blue") // New Mexico
election_2016.set("36", "blue") // New York
election_2016.set("37", "red")  // North Carolina
election_2016.set("38", "red")  // North Dakota
election_2016.set("39", "red")  // Ohio
election_2016.set("40", "red")  // Oklahoma
election_2016.set("41", "blue") // Oregon
election_2016.set("42", "red")  // Pennsylvania
election_2016.set("44", "blue") // Rhode Island
election_2016.set("45", "red")  // South Carolina
election_2016.set("46", "red")  // South Dakota
election_2016.set("47", "red")  // Tennessee
election_2016.set("48", "red")  // Texas
election_2016.set("49", "red")  // Utah
election_2016.set("50", "blue") // Vermont
election_2016.set("51", "blue") // Virginia
election_2016.set("53", "blue") // Washington
election_2016.set("54", "red")  // West Virginia
election_2016.set("55", "red")  // Wisconsin
election_2016.set("56", "red")  // Wyoming

var path = d3.geoPath();

var g = svg.append("g")
    .attr("class", "key")
    .attr("transform", "translate(0,40)");

d3.queue()
    .defer(d3.json, "https://d3js.org/us-10m.v1.json")
    .await(ready);

function ready(error, us) {
  if (error) throw error;

  svg.append("g")
      .attr("class", "states")
    .selectAll("path")
    .data(topojson.feature(us, us.objects.states).features)
    .enter().append("path")
      .attr("fill", function(d) {

          my_color = election_2016.get(d.id);
          if (("blue" != my_color) && ("red" != my_color))
              my_color = "green";
          return my_color;
       })
      .attr("d", path)
    .append("title")
      .text(function(d) { return d.rate + "%"; });

  svg.append("path")
      .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a !== b; }))
      .attr("class", "states")
      .attr("d", path);
}

</script>
<button type="button">Ready? Run the Simulation!</button>
<table>
</table>

